apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-kubectl-config
  namespace: {{ .Release.Namespace }}
data:
  config: |-
{{- if .Values.k8sScrMgr.kubeconfig }}
{{ .Values.k8sScrMgr.kubeconfig | nindent 4 }}
{{- else }}
{{ required "Missing parameter 'k8sScrMgr.kubeconfig': --set-file k8sScrMgr.kubeconfig=<kubeconfig file>" .Values.k8sScrMgr.kubeconfig }}
{{- end }}
